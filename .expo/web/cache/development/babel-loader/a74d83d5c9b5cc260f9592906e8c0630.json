{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Craig133Mhz\\\\Desktop\\\\programacion\\\\REACT NATIVE\\\\MyTinerary Mobile\\\\screens\\\\CityItineraries.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { connect } from \"react-redux\";\nimport citiesActions from \"../redux/actions/citiesActions\";\nimport itinerariesActions from \"../redux/actions/itinerariesActions\";\nimport Itineraries from \"./Itineraries\";\nimport Loader from \"./Loader\";\n\nvar wait = function wait(timeout) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, timeout);\n  });\n};\n\nvar CityItineraries = function (_React$Component) {\n  _inherits(CityItineraries, _React$Component);\n\n  var _super = _createSuper(CityItineraries);\n\n  function CityItineraries() {\n    var _this;\n\n    _classCallCheck(this, CityItineraries);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.onRefresh = function () {\n      _this.setState({\n        refreshing: true\n      });\n\n      wait(2000).then(function () {\n        return _this.setState({\n          refreshing: false\n        });\n      }, _this.props.loadItineraries(_this.props.route.params.cityId));\n    };\n\n    _this.state = {\n      city: [],\n      loading: true,\n      refreshing: false\n    };\n    return _this;\n  }\n\n  _createClass(CityItineraries, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.navigation.addListener('focus', function () {\n        _this2.props.loadItineraries(_this2.props.route.params.cityId);\n      });\n      this.props.loadItineraries(this.props.route.params.cityId);\n\n      if (this.props.filteredCities.length !== 0) {\n        this.setState({\n          city: this.props.filteredCities.find(function (city) {\n            return city._id === _this2.props.route.params.cityId;\n          }),\n          loading: false\n        });\n      } else if (this.props.filteredCities.length === 0) {\n        this.props.fetchSingleCity(this.props.route.params.cityId);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.city.length !== 0 && this.state.city.length === 0) {\n        this.setState({\n          city: this.props.city,\n          loading: false\n        });\n      } else if (this.props.filteredCities.length === 0 && !this.props.success) {\n        this.props.navigation.navigate(\"Home\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.loading) {\n        return React.createElement(Loader, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 20\n          }\n        });\n      }\n\n      return React.createElement(SafeAreaView, {\n        style: styles.safeArea,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, React.createElement(ScrollView, {\n        refreshControl: React.createElement(RefreshControl, {\n          refreshing: this.state.refreshing,\n          onRefresh: this.onRefresh,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 50\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        style: styles.hero,\n        source: {\n          uri: this.state.city.img\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          alignItems: 'center',\n          justifyContent: 'center',\n          width: '100%',\n          height: 'auto'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }\n      }, React.createElement(Image, {\n        style: styles.avionPNG,\n        source: require(\"../assets/img/avionH1CitiesL.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 33\n        }\n      }), React.createElement(Text, {\n        style: {\n          color: 'black',\n          fontWeight: 'bold',\n          marginTop: 10,\n          width: '50%',\n          fontFamily: 'sans-serif-medium',\n          textAlign: 'center',\n          fontSize: 30\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 33\n        }\n      }, this.state.city.name), React.createElement(Image, {\n        style: styles.avionPNG,\n        source: require(\"../assets/img/avionH1CitiesR.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 33\n        }\n      })), React.createElement(Text, {\n        style: styles.subtitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 29\n        }\n      }, \"\\xA1Here is some of our Itineraries!\"), React.createElement(View, {\n        style: {\n          backgroundColor: 'black'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 29\n        }\n      }, this.props.itineraries !== null && this.props.itineraries.length !== 0 ? this.props.itineraries.map(function (itinerary, index) {\n        return React.createElement(Itineraries, {\n          key: index,\n          itinerary: itinerary,\n          props: _this3.props.navigation,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 48\n          }\n        });\n      }) : React.createElement(View, {\n        style: styles.divNotFounded,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 41\n        }\n      }, React.createElement(ImageBackground, {\n        style: styles.noItinerariesFounded,\n        source: require(\"../assets/img/itineraryBackground.jpg\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 45\n        }\n      }, React.createElement(Text, {\n        style: styles.notFoundedTittle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 49\n        }\n      }, \"We don't have any itineraries here right now\"), React.createElement(Text, {\n        style: styles.notFoundedSubTittle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 49\n        }\n      }, \"Try another city!\")))), React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          alignItems: 'center',\n          justifyContent: 'center',\n          backgroundColor: 'black',\n          width: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 29\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this3.props.navigation.navigate(\"Home\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: styles.button,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 37\n        }\n      }, \"Back to Home\")), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this3.props.navigation.navigate(\"Cities\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: styles.button,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 37\n        }\n      }, \"Back to Cities\"))))));\n    }\n  }]);\n\n  return CityItineraries;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    filteredCities: state.cityReducer.filteredCities,\n    city: state.cityReducer.city,\n    itineraries: state.itineraryReducer.itineraries,\n    success: state.cityReducer.success\n  };\n};\n\nvar mapDispatchToProps = {\n  fetchCities: citiesActions.fetchCities,\n  fetchSingleCity: citiesActions.fetchSingleCity,\n  loadItineraries: itinerariesActions.loadItineraries\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(CityItineraries);\nvar styles = StyleSheet.create({\n  image: {\n    width: 20\n  },\n  hero: {\n    width: \"100%\",\n    height: 200\n  },\n  avionPNG: {\n    width: \"20%\",\n    height: 40\n  },\n  safeArea: {\n    flex: 1,\n    backgroundColor: '#e2ceb5',\n    height: '100%'\n  },\n  subtitle: {\n    marginBottom: 30,\n    textAlign: 'center',\n    marginTop: 20,\n    fontSize: 25,\n    fontWeight: 'bold',\n    color: '#212529'\n  },\n  button: {\n    fontFamily: 'sans-serif-medium',\n    color: 'black',\n    backgroundColor: '#e2ceb5',\n    zIndex: 2,\n    alignSelf: 'center',\n    textAlign: 'center',\n    textAlignVertical: 'center',\n    fontSize: 20,\n    width: 170,\n    height: 40,\n    marginTop: 30,\n    marginBottom: 10,\n    marginHorizontal: 10,\n    justifyContent: 'center',\n    borderTopRightRadius: 30,\n    borderBottomLeftRadius: 30\n  },\n  noItinerariesFounded: {\n    width: '100%',\n    height: '100%',\n    marginLeft: 0,\n    alignSelf: 'center',\n    justifyContent: 'center'\n  },\n  notFoundedTittle: {\n    fontWeight: 'bold',\n    top: \"0%\",\n    fontSize: 18,\n    zIndex: 20,\n    textAlign: 'center',\n    width: '100%',\n    backgroundColor: 'rgba(0, 0, 0, 0.650)',\n    color: '#e2ceb5',\n    shadowColor: \"white\",\n    paddingVertical: 10\n  },\n  notFoundedSubTittle: {\n    top: \"0%\",\n    fontSize: 16,\n    zIndex: 20,\n    textAlign: 'center',\n    width: '100%',\n    backgroundColor: 'rgba(0, 0, 0, 0.650)',\n    color: '#e2ceb5',\n    shadowColor: \"white\",\n    paddingBottom: 10\n  },\n  divNotFounded: {\n    width: '95%',\n    height: 150,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 500,\n    overflow: 'hidden',\n    marginLeft: 10,\n    marginTop: 60,\n    marginBottom: '50%'\n  }\n});","map":{"version":3,"sources":["C:/Users/Craig133Mhz/Desktop/programacion/REACT NATIVE/MyTinerary Mobile/screens/CityItineraries.js"],"names":["React","connect","citiesActions","itinerariesActions","Itineraries","Loader","wait","timeout","Promise","resolve","setTimeout","CityItineraries","onRefresh","setState","refreshing","then","props","loadItineraries","route","params","cityId","state","city","loading","navigation","addListener","filteredCities","length","find","_id","fetchSingleCity","success","navigate","styles","safeArea","hero","uri","img","flexDirection","alignItems","justifyContent","width","height","avionPNG","require","color","fontWeight","marginTop","fontFamily","textAlign","fontSize","name","subtitle","backgroundColor","itineraries","map","itinerary","index","divNotFounded","noItinerariesFounded","notFoundedTittle","notFoundedSubTittle","button","Component","mapStateToProps","cityReducer","itineraryReducer","mapDispatchToProps","fetchCities","StyleSheet","create","image","flex","marginBottom","zIndex","alignSelf","textAlignVertical","marginHorizontal","borderTopRightRadius","borderBottomLeftRadius","marginLeft","top","shadowColor","paddingVertical","paddingBottom","borderRadius","overflow"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Image, ImageBackground, RefreshControl, SafeAreaView, ScrollView, StyleSheet, Text, TouchableOpacity, View } from \"react-native\";\r\nimport { connect } from \"react-redux\";\r\nimport citiesActions from \"../redux/actions/citiesActions\";\r\nimport itinerariesActions from \"../redux/actions/itinerariesActions\";\r\nimport Itineraries from \"./Itineraries\";\r\nimport Loader from \"./Loader\";\r\n\r\nconst wait = (timeout) => {\r\n    return new Promise(resolve => setTimeout(resolve, timeout));\r\n  }\r\n\r\nclass CityItineraries extends React.Component{\r\n    \r\n    \r\n        onRefresh = () => {\r\n          this.setState({refreshing: true});\r\n          wait(2000).then(() =>  \r\n            this.setState({refreshing: false}),\r\n            this.props.loadItineraries(this.props.route.params.cityId)\r\n          )\r\n        };\r\n\r\n    \r\n    state={\r\n        city: [],\r\n        loading: true,\r\n        refreshing:false\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.props.navigation.addListener('focus', () => {\r\n            this.props.loadItineraries(this.props.route.params.cityId)\r\n        })\r\n        this.props.loadItineraries(this.props.route.params.cityId)\r\n        if (this.props.filteredCities.length !== 0) {        \r\n            this.setState({\r\n                city: this.props.filteredCities.find(city => city._id === this.props.route.params.cityId),\r\n                loading : false\r\n            })             \r\n        } else if (this.props.filteredCities.length === 0) {\r\n            this.props.fetchSingleCity(this.props.route.params.cityId)         \r\n        }               \r\n    }\r\n\r\n    componentDidUpdate(){\r\n        if(this.props.city.length !==0 && this.state.city.length ===0 ) {\r\n            this.setState({\r\n                city: this.props.city, loading: false\r\n            })\r\n        }else if (this.props.filteredCities.length === 0 && !this.props.success) {\r\n            this.props.navigation.navigate(\"Home\")  \r\n        }\r\n    }  \r\n    \r\n    render(){    \r\n\r\n        if (this.state.loading) {\r\n            return <Loader />\r\n        }\r\n\r\n        return (   \r\n                <SafeAreaView style={styles.safeArea}>\r\n                    <ScrollView refreshControl={ <RefreshControl refreshing={this.state.refreshing} onRefresh={this.onRefresh}/>}>\r\n                        <Image style={styles.hero} source={{uri: this.state.city.img}}/>\r\n                        <View >\r\n                            <View style={{flexDirection:'row', alignItems:'center', justifyContent:'center', width:'100%', height:'auto'}}>\r\n                                <Image  style={styles.avionPNG} source={require(\"../assets/img/avionH1CitiesL.png\")}/>\r\n                                <Text style={{\r\n                                    color:'black',\r\n                                    fontWeight:'bold',\r\n                                    marginTop:10,\r\n                                    width:'50%',\r\n                                    fontFamily:'sans-serif-medium',\r\n                                    textAlign:'center',\r\n                                    fontSize:30,\r\n                                    }}>{this.state.city.name}</Text>\r\n                                <Image  style={styles.avionPNG} source={require(\"../assets/img/avionH1CitiesR.png\")} />\r\n                            </View>\r\n                            <Text style={styles.subtitle}>Â¡Here is some of our Itineraries!</Text>\r\n                            <View style={{backgroundColor:'black'}}>\r\n                                    { this.props.itineraries !== null &&  this.props.itineraries.length !== 0\r\n                                    ? this.props.itineraries.map((itinerary, index) =>{\r\n                                        return <Itineraries  key= {index} itinerary ={itinerary} props= {this.props.navigation}/>                                \r\n                                        })\r\n                                    :   <View style={styles.divNotFounded}>\r\n                                            <ImageBackground style={styles.noItinerariesFounded} source={require('../assets/img/itineraryBackground.jpg')}> \r\n                                                <Text style={styles.notFoundedTittle}>We don't have any itineraries here right now</Text>\r\n                                                <Text style={styles.notFoundedSubTittle}>Try another city!</Text> \r\n                                            </ImageBackground>\r\n                                        </View>\r\n                                    }  \r\n                            </View>\r\n                            <View style={{flexDirection:'row', alignItems:'center', justifyContent:'center', backgroundColor:'black', width:'100%'}}>\r\n                                <TouchableOpacity onPress={() => this.props.navigation.navigate(\"Home\")} >\r\n                                    <Text  style={styles.button}>Back to Home</Text>\r\n                                </TouchableOpacity>\r\n                                <TouchableOpacity onPress={() => this.props.navigation.navigate(\"Cities\")} >\r\n                                    <Text  style={styles.button}>Back to Cities</Text>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                        </View>\r\n                    </ScrollView> \r\n                </SafeAreaView>   \r\n        )  \r\n    }\r\n}\r\n  \r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        filteredCities: state.cityReducer.filteredCities,\r\n        city: state.cityReducer.city,\r\n        itineraries: state.itineraryReducer.itineraries,\r\n        success: state.cityReducer.success\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    fetchCities: citiesActions.fetchCities,\r\n    fetchSingleCity: citiesActions.fetchSingleCity,\r\n    loadItineraries: itinerariesActions.loadItineraries\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CityItineraries)\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    image:{\r\n        width:20\r\n    },\r\n    hero:{\r\n        width:\"100%\",\r\n        height:200, \r\n    },\r\n    avionPNG:{\r\n        width:\"20%\",\r\n        height:40,\r\n    },\r\n    safeArea:{\r\n        flex: 1,\r\n        backgroundColor: '#e2ceb5',\r\n        height:'100%'\r\n    },  \r\n    subtitle:{\r\n        marginBottom:30,\r\n        textAlign:'center',\r\n        marginTop:20,\r\n        fontSize:25,\r\n        fontWeight:'bold',\r\n        color:'#212529'\r\n    },\r\n    button:{\r\n        fontFamily:'sans-serif-medium',\r\n        color:'black',\r\n        backgroundColor:'#e2ceb5',\r\n        zIndex:2,\r\n        alignSelf:'center',\r\n        textAlign:'center',\r\n        textAlignVertical:'center',\r\n        fontSize:20,\r\n        width:170,\r\n        height:40,  \r\n        marginTop:30,\r\n        marginBottom:10,\r\n        marginHorizontal:10,\r\n        justifyContent:'center',   \r\n        borderTopRightRadius: 30,\r\n        borderBottomLeftRadius: 30,    \r\n    },\r\n    noItinerariesFounded:{\r\n        width:'100%',\r\n        height:'100%',\r\n        marginLeft:0,\r\n        alignSelf:'center',\r\n        justifyContent:'center',\r\n    },\r\n    notFoundedTittle:{\r\n        fontWeight:'bold',\r\n        top:\"0%\",\r\n        fontSize: 18,\r\n        zIndex:20,\r\n        textAlign:'center',\r\n        width:'100%', \r\n        backgroundColor:'rgba(0, 0, 0, 0.650)', \r\n        color:'#e2ceb5',\r\n        shadowColor: \"white\",\r\n        paddingVertical:10\r\n    },\r\n    notFoundedSubTittle:{\r\n        top:\"0%\",\r\n        fontSize: 16,\r\n        zIndex:20,\r\n        textAlign:'center',\r\n        width:'100%', \r\n        backgroundColor:'rgba(0, 0, 0, 0.650)', \r\n        color:'#e2ceb5',\r\n        shadowColor: \"white\",\r\n        paddingBottom:10\r\n    },\r\n    divNotFounded:{\r\n        width:'95%',\r\n        height:150,\r\n        alignItems:'center',\r\n        justifyContent:'center',\r\n        borderRadius: 500,\r\n        overflow:'hidden',\r\n        marginLeft:10, \r\n        marginTop:60,\r\n        marginBottom:'50%'\r\n    },\r\n\r\n\r\n})"]},"metadata":{},"sourceType":"module"}